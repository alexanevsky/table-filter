/*! @alexanevsky/table-filter v1.0.0 (c) Alexanevsky | https://github.com/alexanevsky/table-filter */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t($||require("jquery")):t(jQuery)}(function(r){"use strict";var o="tableFilter",i={class:null,style:null,placeholder:"Search...",type:"text",inCols:[],excludeCols:[],min:10};function n(t,e){return this.table=t,this.options=r.extend({},i,e,t.dataset),"string"==typeof this.options.inCols&&(this.options.inCols=this.options.inCols.split(",").map(Number)),"string"==typeof this.options.excludeCols&&(this.options.excludeCols=this.options.excludeCols.split(",").map(Number)),this.init(),this}n.prototype={init:function(){var t=this,e=this.options,i=r(this.table),s=r('<tr><td colspan="'+r("tbody tr:first td",i).length+'"><input type="'+e.type+'"></td><tr>');return r("tbody tr",i).length<parseInt(e.min)||(r("tbody",i).prepend(s),"string"==typeof e.class&&""!==e.class&&r("input",s).addClass(e.class),"string"==typeof e.style&&""!==e.style&&r("input",s).attr("style",e.style),"string"==typeof e.placeholder&&""!==e.placeholder&&r("input",s).attr("placeholder",e.placeholder),r("input",s).on("keyup",function(){t.filterRows(r(this).val())})),this},filterRows:function(s){var t=r(this.table),o=this.options.inCols,n=this.options.excludeCols;return s.length?r("tr:not(:first-child)",t).each(function(t,e){var i=!0;r(e).find("td").each(function(t,e){o.length&&-1===r.inArray(t+1,o)||n.length&&-1!==r.inArray(t+1,n)||~r(e).text().toLowerCase().indexOf(s.toLowerCase())&&(i=!1)}),!0!==i?r(e).show():r(e).hide()}):r("tbody tr",t).show(),this}},r.fn[o]=function(e){var i,s=arguments;return void 0===e||"object"==typeof e?(this.each(function(){r.data(this,"_"+o)||r.data(this,"_"+o,new n(this,e))}).promise().done(),this):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each(function(){var t=r.data(this,"_"+o);t instanceof n&&"function"==typeof t[e]&&(i=t[e].apply(t,Array.prototype.slice.call(s,1)))}),void 0!==i?i:this):this}});